---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "bunnynet_compute_container_app Resource - terraform-provider-bunnynet"
subcategory: ""
description: |-
  This resource manages a Magic Containers application in bunny.net.
---

# bunnynet_compute_container_app (Resource)

This resource manages a Magic Containers application in bunny.net.

## Example Usage

```terraform
resource "bunnynet_compute_container_app" "app" {
  name = "my-app"

  autoscaling_min = 1
  autoscaling_max = 3

  regions_allowed  = ["DE", "SG", "NY"]
  regions_required = ["DE"]

  container {
    name            = "app"
    image_registry  = bunnynet_compute_container_imageregistry.github.id
    image_namespace = "my-org"
    image_name      = "my-app"
    image_tag       = "2.12.6"

    endpoint {
      name = "app"
      type = "CDN"

      cdn {
        origin_ssl = false

        sticky_sessions {
          headers = ["X-Forwarded-For"]
        }
      }

      port {
        container = 8080
        protocols = ["TCP", "UDP"]
      }
    }

    env {
      name  = "APP_ENV"
      value = "prod"
    }

    env {
      name  = "APP_ENV"
      value = "prod"
    }
  }

  container {
    name            = "sidecar"
    image_registry  = bunnynet_compute_container_imageregistry.github.id
    image_namespace = "my-org"
    image_name      = "my-sidecar"
    image_tag       = "1.3.7"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the application.
- `regions_allowed` (Set of String) The regions that will be dynamically provisionable based on the user latency.
- `regions_required` (Set of String) The regions that will be statically provisioned and will always be running and available to users.

### Optional

- `autoscaling_max` (Number) The maximum number of instances that will be provisioned per active region.
- `autoscaling_min` (Number) The minimum number of instances that will be provisioned per active region.
- `container` (Block Set) Defines a container for the application. (see [below for nested schema](#nestedblock--container))
- `regions_max_allowed` (Number) The maximum amount of regions to be deployed at any given time.

### Read-Only

- `id` (String) The unique identifier for the application.

<a id="nestedblock--container"></a>
### Nested Schema for `container`

Required:

- `image_name` (String) The image name within the registry, without the domain prefix (i.e.: `my-app`).
- `image_namespace` (String) The image namespace within the registry, without the domain prefix (i.e.: `my-org`).
- `image_registry` (Number) The image registry for the container.
- `image_tag` (String) The image tag (i.e.: `2.9-alpine`).
- `name` (String) The name of the container.

Optional:

- `arguments` (String) The arguments that will be added to the container entry point when starting the image.
- `command` (String) A custom startup command that will execute once the container is launched.
- `endpoint` (Block Set) Defines a public endpoint for the application. (see [below for nested schema](#nestedblock--container--endpoint))
- `env` (Block Set) Defines an environment variable for the container (see [below for nested schema](#nestedblock--container--env))
- `image_pull_policy` (String) Options: `Always`, `IfNotPresent`
- `liveness_probe` (Block Set) Checks that the application is actively running without issues. It the check fails, the container will be automatically restarted (see [below for nested schema](#nestedblock--container--liveness_probe))
- `readiness_probe` (Block Set) Checks if the application is fully prepared to handle incoming requests. No requests will be routed to the application until this check is successful. (see [below for nested schema](#nestedblock--container--readiness_probe))
- `startup_probe` (Block Set) Checks if the application has successfully started. No requests will be routed to the application until this check is successful. (see [below for nested schema](#nestedblock--container--startup_probe))
- `working_dir` (String) The working directory of the container runtime.

Read-Only:

- `id` (String) The unique identifier for the container.

<a id="nestedblock--container--endpoint"></a>
### Nested Schema for `container.endpoint`

Required:

- `name` (String) The name of the endpoint.
- `type` (String) Options: `Anycast`, `CDN`, `InternalIP`

Optional:

- `cdn` (Block Set) Configurations for CDN endpoint. (see [below for nested schema](#nestedblock--container--endpoint--cdn))
- `port` (Block Set) Endpoint port configuration. (see [below for nested schema](#nestedblock--container--endpoint--port))

<a id="nestedblock--container--endpoint--cdn"></a>
### Nested Schema for `container.endpoint.cdn`

Optional:

- `origin_ssl` (Boolean) Indicates whether the container will handle TLS termination.
- `sticky_sessions` (Block Set) Indicates whether sticky sessions is enabled. (see [below for nested schema](#nestedblock--container--endpoint--cdn--sticky_sessions))

Read-Only:

- `pullzone_id` (Number) The ID of the pullzone associated with the endpoint.

<a id="nestedblock--container--endpoint--cdn--sticky_sessions"></a>
### Nested Schema for `container.endpoint.cdn.sticky_sessions`

Required:

- `headers` (Set of String) Incoming request headers used to select a pod for sticky sessions.



<a id="nestedblock--container--endpoint--port"></a>
### Nested Schema for `container.endpoint.port`

Required:

- `container` (Number) The container port number.

Optional:

- `exposed` (Number) The exposed port number.
- `protocols` (Set of String) Options: `Tcp`, `Udp`



<a id="nestedblock--container--env"></a>
### Nested Schema for `container.env`

Required:

- `name` (String) The name of the environment variable.
- `value` (String) The value of the environment variable.


<a id="nestedblock--container--liveness_probe"></a>
### Nested Schema for `container.liveness_probe`

Required:

- `port` (Number) The port within the container the probe will connect to.
- `type` (String) Options: `grpc`, `http`, `tcp`

Optional:

- `failure_threshold` (Number) The number of failed probes to consider the container unhealthy.
- `grpc` (Block Set) gRPC-specific configurations. (see [below for nested schema](#nestedblock--container--liveness_probe--grpc))
- `http` (Block Set) HTTP-specific configurations. (see [below for nested schema](#nestedblock--container--liveness_probe--http))
- `initial_delay` (Number) The amount of time in seconds after the container is started to wait before the first probe is sent.
- `period` (Number) The amount of time in seconds between each probe.
- `success_threshold` (Number) The number of successful probes to consider the container healthy.
- `timeout` (Number) The amount of time in seconds the probe will wait for a response before considering it a failure.

<a id="nestedblock--container--liveness_probe--grpc"></a>
### Nested Schema for `container.liveness_probe.grpc`

Required:

- `service` (String) The gRPC service name.


<a id="nestedblock--container--liveness_probe--http"></a>
### Nested Schema for `container.liveness_probe.http`

Required:

- `path` (String) The HTTP path to be requested.

Optional:

- `expected_status` (Number) The expected HTTP response status code.



<a id="nestedblock--container--readiness_probe"></a>
### Nested Schema for `container.readiness_probe`

Required:

- `port` (Number) The port within the container the probe will connect to.
- `type` (String) Options: `grpc`, `http`, `tcp`

Optional:

- `failure_threshold` (Number) The number of failed probes to consider the container unhealthy.
- `grpc` (Block Set) gRPC-specific configurations. (see [below for nested schema](#nestedblock--container--readiness_probe--grpc))
- `http` (Block Set) HTTP-specific configurations. (see [below for nested schema](#nestedblock--container--readiness_probe--http))
- `initial_delay` (Number) The amount of time in seconds after the container is started to wait before the first probe is sent.
- `period` (Number) The amount of time in seconds between each probe.
- `success_threshold` (Number) The number of successful probes to consider the container healthy.
- `timeout` (Number) The amount of time in seconds the probe will wait for a response before considering it a failure.

<a id="nestedblock--container--readiness_probe--grpc"></a>
### Nested Schema for `container.readiness_probe.grpc`

Required:

- `service` (String) The gRPC service name.


<a id="nestedblock--container--readiness_probe--http"></a>
### Nested Schema for `container.readiness_probe.http`

Required:

- `path` (String) The HTTP path to be requested.

Optional:

- `expected_status` (Number) The expected HTTP response status code.



<a id="nestedblock--container--startup_probe"></a>
### Nested Schema for `container.startup_probe`

Required:

- `port` (Number) The port within the container the probe will connect to.
- `type` (String) Options: `grpc`, `http`, `tcp`

Optional:

- `failure_threshold` (Number) The number of failed probes to consider the container unhealthy.
- `grpc` (Block Set) gRPC-specific configurations. (see [below for nested schema](#nestedblock--container--startup_probe--grpc))
- `http` (Block Set) HTTP-specific configurations. (see [below for nested schema](#nestedblock--container--startup_probe--http))
- `initial_delay` (Number) The amount of time in seconds after the container is started to wait before the first probe is sent.
- `period` (Number) The amount of time in seconds between each probe.
- `success_threshold` (Number) The number of successful probes to consider the container healthy.
- `timeout` (Number) The amount of time in seconds the probe will wait for a response before considering it a failure.

<a id="nestedblock--container--startup_probe--grpc"></a>
### Nested Schema for `container.startup_probe.grpc`

Required:

- `service` (String) The gRPC service name.


<a id="nestedblock--container--startup_probe--http"></a>
### Nested Schema for `container.startup_probe.http`

Required:

- `path` (String) The HTTP path to be requested.

Optional:

- `expected_status` (Number) The expected HTTP response status code.
